<html>

<head>
  <title>wfs demo</title>
  <link rel="stylesheet" href="../node_modules/openlayers/dist/ol.css" type="text/css">
  <script src="../node_modules/openlayers/dist/ol-debug.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>

<div id="map" style="width:100%;height:100%;"></div>

<script>
  var titleUrl = "http://localhost:8080/serverlet/demo?T=vec_c"
//  var layer = new ol.layer.Tile({
//    source: new ol.source.XYZ({
//      wrapX: false,
//      tileGrid: new ol.tilegrid.TileGrid({
//        tileSize: [256, 256],
//        origin: [0, 0],
//        extent: []
//      }),
//      tileSize: [256, 256],
//      opaque: false, // 图层是否不透明（主题相关）
//      tilePixelRatio: 1, //todo 对于高分辨率设备，例如苹果等可能2、3（移动端开发需要注意）
//      tileUrlFunction: function (tileCoord) {
//        let url = titleUrl.replace('{z}',
//          (tileCoord[0]).toString()).replace('{x}',
//          tileCoord[1].toString()).replace('{y}',
//          (-tileCoord[2] - 1).toString());
//        return url
//      }
//    })
//  });
  var projection = ol.proj.get('EPSG:4326');
  var size = ol.extent.getWidth(projection.getExtent()) / 256;
  var resolutions = new Array(19);
  var matrixIds = new Array(19);
  for (var z = 0; z < 19; ++z) {
    resolutions[z] = size / Math.pow(2, z);
    matrixIds[z] = z;
  }
  var layer = new ol.layer.Tile({
    source: new ol.source.WMTS({
      url: titleUrl,
      projection: projection,
      tileGrid: new ol.tilegrid.WMTS({
        origin: ol.extent.getTopLeft(projection.getExtent()),
        resolutions: resolutions,
        matrixIds: matrixIds
      }),
      wrapX: false
    })
  });
  var map = new ol.Map({
    layers: [layer],
    target: 'map',
    view: new ol.View({
      center: [0, 0],
      zoom: 3,
      projection: 'EPSG:4326'
    })
  });
</script>

</body>

</html>