<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" href="../node_modules/openlayers/dist/ol.css" type="text/css">
</head>
<body>
<div id="map"></div>
<button id="change">图层切换</button>
<button id="change_">图层切换</button>
<script src="../dist/HMap.js"></script>
<script type="text/ecmascript">
  //  import {} from '../dist/HMap'
  let Maps = new HMap();
  let cor = [
    {
      "level": 0,
      "resolution": 0.0624062618086491,
      "scale": 26227058
    },
    {
      "level": 1,
      "resolution": 0.04394531353227711,
      "scale": 18468600
    },
    {
      "level": 2,
      "resolution": 0.021972656766138556,
      "scale": 9234300
    },
    {
      "level": 3,
      "resolution": 0.010986328383069278,
      "scale": 4617150
    },
    {
      "level": 4,
      "resolution": 0.005493164191534639,
      "scale": 2308575
    },
    {
      "level": 5,
      "resolution": 0.0027465809060368165,
      "scale": 1154287
    },
    {
      "level": 6,
      "resolution": 0.0013732916427489112,
      "scale": 577144
    },
    {
      "level": 7,
      "resolution": 6.866458213744556E-4,
      "scale": 288572
    },
    {
      "level": 8,
      "resolution": 3.433229106872278E-4,
      "scale": 144286
    },
    {
      "level": 9,
      "resolution": 1.716614553436139E-4,
      "scale": 72143
    },
    {
      "level": 10,
      "resolution": 8.582953794130404E-5,
      "scale": 36071
    },
    {
      "level": 11,
      "resolution": 4.291595870115493E-5,
      "scale": 18036
    },
    {
      "level": 12,
      "resolution": 2.1457979350577466E-5,
      "scale": 9018
    },
    {
      "level": 13,
      "resolution": 1.0728989675288733E-5,
      "scale": 4509
    },
    {
      "level": 14,
      "resolution": 5.363305107141452E-6,
      "scale": 2254
    },
    {
      "level": 15,
      "resolution": 2.681652553570726E-6,
      "scale": 1127
    },
    {
      "level": 16,
      "resolution": 1.342016007288278E-6,
      "scale": 564
    }
  ];
  let resolutions = [];
  for (let i = 0; i < cor.length; i++) {
    resolutions.push(cor[i].resolution);
  }
  Maps.initMap('map', {
    center: [109.15169990462329, 31.74108365827285],
    resolutions: resolutions,
    fullExtent: [55.102486359835105, 0.012805729421859313, 165.82033664774298, 60.719905983252346],
    tileSize: 256,
    origin: [-400, 399.9999999999998],
    zoom: 5,
    projection: '4326',
    controls: {
      addScaleLine: false,
      addLoading: false
    },
    interactions: {
      doubleClickZoom: true,
      keyboard: false
    },
    baseLayers: [
      {
        layerName: 'vector',
        isDefault: true,
        layerType: 'TileXYZ',
        opaque: false, //图层是否不透明
        layerUrl: 'http://211.101.37.251:6080/arcgis/rest/services/jxgxptmap_2015ncyw/MapServer'
      },
      {
        layerName: 'earth',
        layerType: 'TitleWMTS',
        layer: 'img',
        isDefault: false,
        layerUrl: 'http://t{0-6}.tianditu.cn/img_c/wmts',
        label: {
          layerName: 'TDTLabel',
          layerType: 'TitleWMTS',
          layer: 'cia',
          alias: 'earth',
          isDefault: false,
          layerUrl: 'http://t{0-6}.tianditu.cn/cia_c/wmts'
        }
      },
      {
        layerName: 'panorama',
        layerType: 'TitleWMTS',
        layer: 'ter',
        isDefault: false,
        layerUrl: 'http://t{0-6}.tianditu.com/ter_c/wmts',
        label: {
          layerName: 'TDTLabel',
          layerType: 'TitleWMTS',
          layer: 'cia',
          alias: 'panorama',
          isDefault: false,
          layerUrl: 'http://t{0-6}.tianditu.cn/cia_c/wmts'
        }
      }
    ]
  });
  let button = document.getElementById('change');
  let button_ = document.getElementById('change_');
  button.onclick = function () {
    Maps.layerSwitcher.switchLayer('earth')
  }
  button_.onclick = function () {
    Maps.layerSwitcher.switchLayer('vector')
  }
</script>
</body>
</html>